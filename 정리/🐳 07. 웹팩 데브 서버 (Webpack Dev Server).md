# ğŸ³ 07. ì›¹íŒ© ë°ë¸Œ ì„œë²„ (Webpack Dev Server)

## ğŸŒ 07-01. ì›¹íŒ© ë°ë¸Œ ì„œë²„ê°€ í•„ìš”í•œ ì´ìœ 

buildë¥¼ í–ˆì„ ë•Œ bundle.jsë‚´ìš©ì´ index.jsë¥¼ ê¸°ì¤€ìœ¼ë¡œ, buildë˜ëŠ” ê²ƒì„ í™•ì¸í–ˆë‹¤. ê·¼ë° buildí›„ì— console.log()ë¥¼ ì¶”ê°€í–ˆì„ ë•Œ ì´ ë‚´ìš©ì€ bundle.jsì— ë°˜ì˜ì´ ì•ˆë˜ìˆë‹¤.<br/>=> ë‹¤ì‹œ buildë¥¼ í•´ì•¼ì§€ ì ìš©ì´ ëœë‹¤.

ë§¤ë²ˆ ë‹¤ì‹œ buildë¥¼ í•˜ëŠ” ì‘ì—…ì„ í¸í•˜ê²Œ í•´ì£¼ëŠ” ê²ƒì´ `webpack dev server`ë‹¤.

<br/><br/>

## ğŸŒ 07-02. ì›¹íŒ© ë°ë¸Œ ì„œë²„ ì†Œê°œ

`ì›¹íŒ© ë°ë¸Œ ì„œë²„`ëŠ” buildëŒ€ìƒ íŒŒì¼ì´ ë³€ê²½ ë˜ì—ˆì„ ë•Œ ë§¤ë²ˆ ì›¹íŒ© ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì§€ ì•Šì•„ë„, ì½”ë“œë§Œ ë³€ê²½í•˜ê³  ì €ì¥í•˜ë©´ ì›¹íŒ©ìœ¼ë¡œ ë¹Œë“œ í›„ ë¸Œë¼ìš°ì €ë¥¼ ìƒˆë¡œê³ ì¹¨ í•´ì¤€ë‹¤. ë¿ë§Œì•„ë‹ˆë¼ ì›¹íŒ© ë¹Œë“œì‹œê°„ê¹Œì§€ ì¤„ì—¬ì¤€ë‹¤.

ì›¹íŒ© ë°ë¸Œ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ì—¬ ì›¹íŒ© ë¹Œë“œë¥¼ í•œ ê²½ìš°ì—ëŠ” ë¹Œë“œí•œ ê²°ê´Œë£¨ì´ íŒŒì¼ íƒìƒ‰ê¸°ë‚˜ í”„ë¡œì íŠ¸ í´ë”ì—ì„œ ë³´ì´ì§€ ì•ŠëŠ”ë‹¤.<br/>ì›¹íŒ© ë°ë¸Œ ì„œë²„ë¡œ ë¹Œë“œí•œ ê²°ê³¼ë¬¼ì€ **ë©”ëª¨ë¦¬ì— ì €ì¥ë˜ê³  íŒŒì¼ë¡œ ìƒì„±í•˜ì§€ ì•Šê¸° ë•Œë¬¸**ì— ì»´í“¨í„° ë‚´ë¶€ì ìœ¼ë¡œëŠ” ì ‘ê·¼í•  ìˆ˜ ìˆì§€ë§Œ ì‚¬ëŒì´ ì§ì ‘ ëˆ„ëŠ¥ë¡œ ë³´ê³  íŒŒì¼ì„ ì¡°ì‘í•  ìˆ˜ ì—†ë‹¤.

â— ì»´í“¨í„° êµ¬ì¡° ê´€ì ì—ì„œ íŒŒì¼ ì…ì¶œë ¥ë³´ë‹¤ ë©”ëª¨ë¦¬ ì…ì¶œë ¥ì´ ë” ë¹ ë¥´ê³  ì»´í“¨í„° ìì›ì´ ëœ ì†Œëª¨ëœë‹¤.

<br/><br/>

## ğŸŒ 07-03. ì›¹íŒ© ë°ë¸Œ ì„œë²„ íŠœí† ë¦¬ì–¼ ì‹¤ìŠµ

1. package.json init

2. ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ : `npm i webpack webpack-cli webpack-dev-server html-webpack-plugin -D`

3. devëª…ë ¹ì–´ ì¶”ê°€

   * ```json
     {
       // ...
       "scripts": {
         "dev": "webpack serve"
       },
     }
     ```

4. index.html ì¶”ê°€

   * ```html
     <!DOCTYPE html>
     <html>
       <head>
         <meta charset="utf-8">
         <title>Webpack Dev Server</title>
       </head>
       <body>
         <!-- ë¹Œë“œ ê²°ê³¼ë¬¼ì´ ì •ìƒì ìœ¼ë¡œ ë¡œë”©ë˜ë©´ ì•„ë˜ div íƒœê·¸ì˜ í…ìŠ¤íŠ¸ê°€ ë³€ê²½ë¨ -->
         <div class="container">
           TBD..
         </div>
         <!-- HTML Webpack Pluginì— ì˜í•´ ì›¹íŒ© ë¹Œë“œ ë‚´ìš©ì´ ì•„ë˜ì— ì¶”ê°€ë¨ -->
       </body>
     </html>
     ```

5. index.jsíŒŒì¼ ìƒì„±

   * ```js
     var div = document.querySelector('.container');
     div.innerText = 'Webpack loaded!!';
     ```

6. webpack.config.js ìƒì„±

   * ```js
     var path = require('path');
     var HtmlWebpackPlugin = require('html-webpack-plugin');
     
     module.exports = {
       mode: 'none',
       entry: './index.js',
       output: {
         filename: 'bundle.js',
         path: path.resolve(__dirname, 'dist'),
       },
       devServer: {
         port: 9000,
       },
       plugins: [
         new HtmlWebpackPlugin({
           // index.html í…œí”Œë¦¿ì„ ê¸°ë°˜ìœ¼ë¡œ ë¹Œë“œ ê²°ê³¼ë¬¼ì„ ì¶”ê°€í•´ì¤Œ
           template: 'index.html',
         }),
       ],
     };
     ```

7. `npm run dev`ë¡œ ì‹¤í–‰ í›„ localhost:9000ìœ¼ë¡œ ì ‘ì†í™•ì¸.

<br/>

### ğŸ“˜ ì°¸ê³ 

* [Webpack Handbook - ì›¹íŒ© ë°ë¸Œ ì„œë²„ íŠœí† ë¦¬ì–¼](https://joshua1988.github.io/webpack-guide/tutorials/webpack-dev-server.html)

<br/><br/>

## ğŸŒ 07-04. ì›¹íŒ© ë°ë¸Œ ì„œë²„ 2ê°€ì§€ íŠ¹ì§•

```shell
 webpack serve      

<i> [webpack-dev-server] Project is running at:
<i> [webpack-dev-server] Loopback: http://localhost:9000/
...
```

localhost:9000ìœ¼ë¡œ ì‹¤í–‰ë˜ê³  ìˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.

index.jsì—ì„œ ë‚´ìš©ì„ **ìˆ˜ì •í•˜ê³  ì €ì¥í•˜ë©´ ë°”ë¡œ ë‹¤ì‹œ Compileí•˜ê³ , ìƒˆë¡œê³ ì¹¨**ë˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.

<br/>

ë‘ ë²ˆì§¸ íŠ¹ì§•ìœ¼ë¡œ dist í´ë”ê°€ ì—†ì§€ë§Œ, ê°œë°œìë„êµ¬ì—ì„  bundle.jsë¥¼ ê°€ì§€ê³ , ë¸Œë¼ìš°ì €ì— ê·¸ë ¤ì§„ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.<br/>**ì¦‰, ë©”ëª¨ë¦¬ ìƒìœ¼ë¡œë§Œ ì´ ë¹Œë“œì˜ ê²°ê³¼ë¬¼ì„ ì˜¬ë ¤ë†“ê³ , íŒŒì¼ ì‹œìŠ¤í…œìœ¼ë¡œ ëˆˆì— ë³´ì´ì§€ ì•Šê²Œí•œë‹¤.**

<br/><br/>

## ğŸŒ 07-05. ì›¹íŒ© ì„¤ì • íŒŒì¼ ë¶„ì„

config.jsë¥¼ ì‚´í´ë³´ì.

```js
var path = require('path');
var HtmlWebpackPlugin = require('html-webpack-plugin');

module.exports = {
  mode: 'none',
  entry: './index.js',
  output: {
    filename: 'bundle.js',
    path: path.resolve(__dirname, 'dist'),
  },
  devServer: {
    port: 9000,
  },
  plugins: [
    new HtmlWebpackPlugin({
      // index.html í…œí”Œë¦¿ì„ ê¸°ë°˜ìœ¼ë¡œ ë¹Œë“œ ê²°ê³¼ë¬¼ì„ ì¶”ê°€í•´ì¤Œ
      template: 'index.html',
    }),
  ],
};
```

* entry : index.jsíŒŒì¼ì„ ê¸°ì¤€.
* output : distí´ë” ì•„ë˜ì— bundle.jsë¡œ output
* devServer : port, overlayë“±ë“± í•„ìš”í•œ ì˜µì…˜ë“¤ì„ ì°¾ì•„ì„œ ê·¸ë•Œ ê·¸ë•Œì‚¬ìš©.
* plugins : ë°°ì—´ì— ìƒì„±ìí•¨ìˆ˜ë¡œ ë§Œë“  ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ê°€ ì¶”ê°€ë¨. <br/>HtmlWebpackPlugin ì€  index.html í…œí”Œë¦¿ì„ ê¸°ë°˜ìœ¼ë¡œ ë¹Œë“œ ê²°ê³¼ë¬¼ì„ ì¶”ê°€í•´ì¤€ë‹¤.

<br/><br/>

## ğŸŒ 07-06. HTML WebpackPlugin ì„¤ëª…

ê°œë°œì ë„êµ¬ë¡œ Elementsíƒ­ì—ì„œ ì‚´í´ë´¤ì„ ë•Œ `<script defer="" src="bundle.js"></script>`êµ¬ë¬¸ì´ ì¶”ê°€ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆëŠ”ë° ì´ ë¶€ë¶„ì€ Webpackì— ì˜í•´ ì¶”ê°€ë˜ì—ˆë‹¤.

(ê°•ì˜ì—ì„œëŠ” bodyì•„ë˜ìª½ì— ì¶”ê°€ë˜ì§€ë§Œ, í˜„ì¬ headíƒœê·¸ì— ì¶”ê°€ë˜ë„ë¡ ë³€ê²½ëœ ê±°ê°™ë‹¤.)

ì•ìœ¼ë¡œë„ ê°œë°œí•˜ë©´ì„œ í•„ìš”í•œ Pluginë“¤ì„ ì˜µì…˜ê³¼ ì†ì„±ì„ ì˜ í™•ì¸í•˜ê³  ì‚¬ìš©í•˜ë©´ ëœë‹¤.