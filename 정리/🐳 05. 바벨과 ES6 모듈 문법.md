# ğŸ³ 05. ë°”ë²¨ê³¼ ES6 ëª¨ë“ˆ ë¬¸ë²•

## ğŸŒ 05-01. ë°”ë²¨ ì†Œê°œ

ES6ì˜ import, exportë¥¼ ê°„ë‹¨íˆ ì•Œì•„ë³´ì.

`ë°”ë²¨`ì´ë€ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ìµœì‹  ë¬¸ë²•ë“¤ì„ ìµœëŒ€í•œ ë§ì€ ë¸Œë¼ìš°ì €ê°€ í˜¸í™˜í•  ìˆ˜ ìˆê²Œë” ë³€í™˜í•´ì£¼ëŠ” ë„êµ¬.

```js
const sum = (a, b) => a + b;
```

```js
// ë³€í™˜
var sum = function sum(a, b){
  return a + b;
}
```

<br/>

### ğŸ“˜ ì°¸ê³ 

* [Babel ê³µì‹ì‚¬ì´íŠ¸](https://babeljs.io/)

<br/><br/>

## ğŸŒ 05-02. ES6 Modules ë¬¸ë²•

ëª¨ë“ˆê¸°ëŠ¥ì„ ìœ„í•´ì„  `import`ì™€ `export`í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•œë‹¤.

```js
export ë³€ìˆ˜, í•¨ìˆ˜
// ------------------------------------------------
import { ë¶ˆëŸ¬ì˜¬ ë³€ìˆ˜ or í•¨ìˆ˜ ì´ë¦„} from 'íŒŒì¼ê²½ë¡œ'
```

**example**

```js
// math.js
export var pi = 3.14;
```

```js
// app.js
import { pi } from './math.js';
console.log(pi);
```

ì´ì „ê³¼ ì°¨ì´ì ì€ Jaavascript ë³€ìˆ˜ì˜ ìœ íš¨ë²”ìœ„ê°€ íŒŒì¼ë³„ë¡œ êµ¬ë¶„ì´ ëœë‹¤. ëª¨ë“ˆ ì°¨ìš°ë„ˆì—ì„œ ê´€ë¦¬ê°€ ìˆ˜ì›”í•´ì§.

<br/><br/>

## ğŸŒ 05-03. ES6 Modules ì‹¤ìŠµ

(ê°•ì˜ëŠ” package.jsonì„ ê°€ì ¸ì™€ì„œ installí•˜ì§€ë§Œ, npm initìœ¼ë¡œ package.jsonìƒì„± í›„ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•˜ì—¬, ë²„ì „ì´ ì°¨ì´ê°€ ìˆìŒ.)

```shell
 npm i -D @babel/core @babel/preset-env babel-loader webpack webpack-cli
```

<br/>

**index.htmlê³¼ jsíŒŒì¼ ì‘ì„±**

`math.js`ì—ì„œ sumí•¨ìˆ˜ë¥¼ `export`í•˜ê³ , `app.js`ì—ì„œ `import`

```html
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Import & Export</title>
</head>
<body>
	Sample loaded
	<script src="build/main.bundle.js"></script>
</body>
</html>
```

```js
// app.js
// í• ì¼ #1 - math.js íŒŒì¼ì—ì„œ ë‘ ìˆ«ìì˜ í•©ì„ êµ¬í•˜ëŠ” sum í•¨ìˆ˜ë¥¼ ì„í¬íŠ¸í•˜ì—¬ ì½˜ì†”ì— ì°ì–´ë³´ì„¸ìš”.
// ë¬¸ë²• ì°¸ê³  : import ë¶ˆëŸ¬ì˜¬ ê¸°ëŠ¥ or ë³€ìˆ˜ from 'íŒŒì¼ì˜ ìœ„ì¹˜'
import { sum } from './math';
console.log('10 + 20 = ', sum(10, 20));
```

```js
// math.js
// sum() í•¨ìˆ˜ êµ¬í˜„ í›„ export í•˜ì„¸ìš”.
export function sum(a, b) {
  return a + b;
}
```

<br/><br/>

## ğŸŒ 05-04. ES6 Modules ì‹¤ìŠµ ê²°ê³¼ í™•ì¸

package.json ì˜ scriptì— buildë¥¼ ì¶”ê°€.

```json
{
  ...
   "scripts": {
    "build": "webpack",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
}
```

`webpack.config.js` ì‘ì„±

```js
var path = require('path');

module.exports = {
	mode: 'production',
	entry: './js/app.js',
	output: {
			path: path.resolve(__dirname, 'build'),
			filename: 'main.bundle.js'
	},
	module: {
		rules: [{
			test: /\.m?js$/,
			exclude: /(node_modules|bower_components)/,
			use: {
				loader: 'babel-loader',
				options: {
					presets: ['@babel/preset-env']
				}
			}
		}]
	},
	stats: {
			colors: true
	},
	devtool: 'source-map'
};
```

<br/>

buildí•˜ê²Œë˜ë©´ `build`í´ë”ì— `main.bundle.js`ê¹Œì§€ ë‚˜ì˜¨ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.<br/>(configíŒŒì¼ì˜ outputë¶€ë¶„ì— ì‘ì„±í•œ ë‚´ìš©ì„ì„ ìŠì§€ë§ì.)

**ê²°ê³¼**

![bundle_result](./images/05_bundle_result.jpg)

<br/><br/>

## ğŸŒ 05-05.  ES6 Modules ë¹Œë“œ ê²°ê³¼ë¬¼ ë¶„ì„ - sourcemap

webpackì˜ `sourcemap`ì´ë¼ëŠ” ê¸°ëŠ¥ì„ ì•Œì•„ë³´ì.

consoleì˜ ë‚´ìš© ìš°ì¸¡ì— `app.js:4`ë¥¼ í´ë¦­í•˜ê²Œ ë˜ë©´ ì•„ë˜ì™€ ê°™ì´ ê²°ê³¼ê°€ ë‚˜ì˜¨ë‹¤.

![sourcemap](./images/05_sourcemap.jpg)

ê·¼ë°, ìœ„ì— NetworkíŒ¨ë„ì—ì„œ ìš°ë¦¬ê°€ ê°€ì ¸ì˜¨ê±´ main.bundle.jsí•˜ë‚œë° ì–´ë–»ê²Œ **buildí•˜ê¸° ì „ì˜ íŒŒì¼ë¡œ ì—°ê²°ì´ ë˜ëŠ”ê±¸ê¹Œ?**

<br/>ì›¹íŒ© ë¹Œë“œ í›„(production)ì— main.bundle.jsë‚´ìš©ì„ ë³´ë©´ ì•Œì•„ë³´ê¸° í˜ë“¤ê²Œ  ë‚œë…í™” ë˜ì–´ìˆë‹¤. ë§Œì•½ console.logì—ì„œ ì´ ë‚œë…í™”ëœ ë¶€ë¶„ì„ ê°€ë¦¬í‚¤ê²Œë˜ë©´, buildì „ì˜ ì½”ë“œì™€ ëŒ€ì¡°í•´ì•¼í•˜ëŠ” ê²½ìš°ê°€ ë°œìƒí•˜ê³ , ê°œë°œ ìƒì‚°ì„±ì— ì—„ì²­ë‚œ ì°¨ì§ˆì´ ìˆê¸° ë•Œë¬¸ì— ê¸°ë³¸ì ìœ¼ë¡œ ì›¹í˜ì´ì§€ì—ì„œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì€ ë¹Œë“œí–ˆë‹¤ í•˜ë”ë¼ë„, ì—°ê²°ì€ ë¹Œë“œì „ì˜ íŒŒì¼ë¡œ ì—°ê²°í•´ì£¼ëŠ” ê²ƒì´ `sourcemap`ì´ë‹¤.